<!DOCTYPE html>
<html>
<head>
  <title>ğŸ§  Speaker Training UI</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="header">
    <h1>ğŸ§  Speaker Training UI</h1>
  </div>

  <div class="layout">
    <div class="main-column">

      <h2>ğŸ¯ Meeting Mode</h2>
      <button id="start-meeting" onclick="startMeeting()" disabled>ğŸŸ¢ Start Meeting Mode</button>
      <button id="stop-meeting" onclick="stopMeeting()" disabled>â¹ï¸ Stop Meeting</button>
      <div id="meeting-status">Status: Idle</div>
      <div id="speaker-label">Current speaker: â€”</div>
      <div id="timeline"><em>Listening...</em></div>

      <h2>ğŸ“ Saved Meetings</h2>
      <div id="meeting-list"><em>Loading...</em></div>


      <h2>ğŸ§‘â€ğŸ’¼ Enroll Speaker</h2>
      <input type="text" id="speaker-id" placeholder="Enter speaker ID" />
      <button onclick="recordAndEnroll()">ğŸ™ï¸ Enroll</button>

      <h2>ğŸ” Identify Speaker</h2>
      <button onclick="recordAndIdentify()">ğŸ§ Record & Identify</button>
      <div id="identify-result">Status: Idle</div>
      <canvas id="identify-visualizer" width="400" height="80" style="display:none;"></canvas>

      <h2>ğŸ“‹ Enrolled Speakers</h2>
      <button onclick="fetchRecordings()">ğŸ”„ Refresh</button>
      <div id="recording-list"><p>Loading...</p></div>

      <div style="margin-top: 2rem;">
        <button onclick="window.location.href='/api/export?type=pt'">ğŸ’¾ Export .pt</button>
        <button onclick="window.location.href='/api/export?type=json'">ğŸ“„ Export JSON</button>
      </div>
    </div>
  </div>

  <script src="/static/script.js"></script>
</body>
</html>
